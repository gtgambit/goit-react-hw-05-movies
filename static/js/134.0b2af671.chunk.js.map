{"version":3,"file":"static/js/134.0b2af671.chunk.js","mappings":"mPAwEA,UAjEe,WAAO,IAAD,EACnB,GAA4CA,EAAAA,EAAAA,UAAS,IAArD,eAAOC,EAAP,KAAuBC,EAAvB,KACA,GAA4BF,EAAAA,EAAAA,UAAS,IAArC,eAAOG,EAAP,KAAeC,EAAf,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAAkCP,EAAAA,EAAAA,WAAS,GAA3C,eAAOQ,EAAP,KAAkBC,EAAlB,KACMC,GAAWC,EAAAA,EAAAA,MACXC,EAAK,UAAGN,EAAaO,IAAI,gBAApB,QAAgC,IAE3CC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAoB,mCAAG,WAAMH,GAAN,uFAEzBH,GAAa,GAFY,UAGIO,EAAAA,EAAAA,IAAgBJ,GAHpB,OAGnBX,EAHmB,OAIzBC,EAAkBD,EAAegB,SAJR,gDAMzBb,EAAU,KAAMc,SAChBC,QAAQC,IAAIjB,GAPa,yBASzBM,GAAa,GATY,4EAAH,sDAYrBG,GACLG,EAAqBH,EACtB,GAAE,CAACA,EAAOT,IAWX,OACE,+BACE,kBAAMkB,SAXW,SAAAC,GACnBA,EAAMC,iBACsD,KAAxDD,EAAME,OAAOC,SAAS,GAAGC,MAAMC,OAAOC,cAI1CrB,EAAgB,CAAEK,MAAOU,EAAME,OAAOC,SAAS,GAAGC,QAHhDG,MAAM,8BAIT,EAIG,WACE,kBAAOC,KAAK,GAAGC,KAAK,OAAOC,YAAY,mBAAmBC,UAAQ,KAClE,mBAAQF,KAAK,SAAb,wBAEF,0BACE,0BACE,0BACGvB,IAAa,SAAC,IAAD,IACb0B,MAAMC,QAAQlC,IACbA,EAAemC,KAAI,YAAoB,IAAjBC,EAAgB,EAAhBA,GAAIC,EAAY,EAAZA,MACxB,OACE,yBACE,SAAC,KAAD,CACEC,UAAWC,EAAAA,EAAAA,KACXC,GAAE,kBAAaJ,GACfK,MAAO,CAAEC,KAAMjC,GAHjB,SAKG4B,KANID,EAUZ,aAMd,C,+LCpEDO,EAAAA,EAAAA,SAAAA,QAAyB,gCACzBA,EAAAA,EAAAA,SAAAA,OAAwB,CACtBC,QAAS,oCAGJ,IAAMC,EAAiB,mCAAG,sGACRF,EAAAA,EAAAA,IAAU,sBAAuB,CACtDG,OAAQ,CACNC,KAAM,KAHqB,uBACvBC,EADuB,EACvBA,KADuB,kBAMxBA,GANwB,2CAAH,qDASjBjC,EAAe,mCAAG,WAAMJ,GAAN,yFACNgC,EAAAA,EAAAA,IAAU,iBAAkB,CACjDG,OAAQ,CACNnC,MAAAA,KAHyB,uBACrBqC,EADqB,EACrBA,KADqB,kBAMtBA,GANsB,2CAAH,sDASfC,EAAY,mCAAG,WAAMC,GAAN,yFACHP,EAAAA,EAAAA,IAAA,iBAAoBO,IADjB,uBAClBF,EADkB,EAClBA,KADkB,kBAEnBA,GAFmB,2CAAH,sDAKZG,EAAc,mCAAG,WAAMD,GAAN,yFACLP,EAAAA,EAAAA,IAAA,iBAAoBO,EAApB,aADK,uBACpBF,EADoB,EACpBA,KADoB,kBAErBA,GAFqB,2CAAH,sDAKdI,EAAW,mCAAG,WAAMF,GAAN,yFACFP,EAAAA,EAAAA,IAAA,iBAAoBO,EAApB,aADE,uBACjBF,EADiB,EACjBA,KADiB,kBAElBA,GAFkB,2CAAH,qD,oBClCxB,KAAgB,eAAiB,qC","sources":["pages/Movies.jsx","services/api.js","webpack://goit-react-hw-05-movies/./src/pages/MovieDetails.module.css?6cd2"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { Link, useSearchParams, useLocation } from 'react-router-dom';\nimport css from './MovieDetails.module.css';\nimport Loader from 'components/Loader/Loader';\n\nimport { getMovieByQuery } from 'services/api';\n\nconst Movies = () => {\n  const [searchedMovies, setSearchedMovies] = useState([]);\n  const [errors, setErrors] = useState('');\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [isLoading, setIsLoading] = useState(false);\n  const location = useLocation();\n  const query = searchParams.get('query') ?? '';\n\n  useEffect(() => {\n    const getMovieBySearchTerm = async query => {\n      try {\n        setIsLoading(true);\n        const searchedMovies = await getMovieByQuery(query);\n        setSearchedMovies(searchedMovies.results);\n      } catch (error) {\n        setErrors(error.message);\n        console.log(errors);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    if (!query) return;\n    getMovieBySearchTerm(query);\n  }, [query, errors]);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    if (event.target.elements[0].value.trim().toLowerCase() === '') {\n      alert('Please, enter correct name!');\n      return;\n    }\n    setSearchParams({ query: event.target.elements[0].value });\n  };\n\n  return (\n    <header>\n      <form onSubmit={handleSubmit}>\n        <input name=\"\" type=\"text\" placeholder=\"Enter movie name\" required />\n        <button type=\"submit\">Search</button>\n      </form>\n      <div>\n        <div>\n          <ul>\n            {isLoading && <Loader />}\n            {Array.isArray(searchedMovies) &&\n              searchedMovies.map(({ id, title }) => {\n                return (\n                  <li key={id}>\n                    <Link\n                      className={css.item}\n                      to={`/movies/${id}`}\n                      state={{ from: location }}\n                    >\n                      {title}\n                    </Link>\n                  </li>\n                );\n              })}\n          </ul>\n        </div>\n      </div>\n    </header>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\naxios.defaults.params = {\n  api_key: '44d416356c22cc8e7735ee915c193364',\n};\n\nexport const getTrendingMovies = async () => {\n  const { data } = await axios.get('/trending/movie/day', {\n    params: {\n      page: 1,\n    },\n  });\n  return data;\n};\n\nexport const getMovieByQuery = async query => {\n  const { data } = await axios.get('/search/movie/', {\n    params: {\n      query,\n    },\n  });\n  return data;\n};\n\nexport const getMovieById = async movieId => {\n  const { data } = await axios.get(`/movie/${movieId}`);\n  return data;\n};\n\nexport const getReviewsById = async movieId => {\n  const { data } = await axios.get(`/movie/${movieId}/reviews`);\n  return data;\n};\n\nexport const getCastById = async movieId => {\n  const { data } = await axios.get(`/movie/${movieId}/credits`);\n  return data;\n};\n///\n","// extracted by mini-css-extract-plugin\nexport default {\"DetailsWrapper\":\"MovieDetails_DetailsWrapper__JrniJ\"};"],"names":["useState","searchedMovies","setSearchedMovies","errors","setErrors","useSearchParams","searchParams","setSearchParams","isLoading","setIsLoading","location","useLocation","query","get","useEffect","getMovieBySearchTerm","getMovieByQuery","results","message","console","log","onSubmit","event","preventDefault","target","elements","value","trim","toLowerCase","alert","name","type","placeholder","required","Array","isArray","map","id","title","className","css","to","state","from","axios","api_key","getTrendingMovies","params","page","data","getMovieById","movieId","getReviewsById","getCastById"],"sourceRoot":""}