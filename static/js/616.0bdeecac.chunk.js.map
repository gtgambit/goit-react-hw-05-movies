{"version":3,"file":"static/js/616.0bdeecac.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/pages/MovieDetails.module.css?6cd2","pages/MovieDetails.jsx","services/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"DetailsWrapper\":\"MovieDetails_DetailsWrapper__JrniJ\"};","import React, { useEffect, useState } from 'react';\nimport Loader from 'components/Loader/Loader';\nimport { Link, Outlet, useParams, useLocation } from 'react-router-dom';\n\nimport { getMovieById } from 'services/api';\nimport css from './MovieDetails.module.css';\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n  const [movieDetails, setMovieDetails] = useState(movieId);\n  const [isLoading, setIsLoading] = useState(false);\n  const [errors, setErrors] = useState('');\n  const location = useLocation();\n  const backLinkHref = location?.state?.from ?? '/';\n\n  useEffect(() => {\n    if (!movieId) return;\n\n    const getMovieDetails = async movieId => {\n      try {\n        setIsLoading(true);\n        let MovieDataById = await getMovieById(movieId);\n        const genresName = MovieDataById.genres.map(el => el.name);\n\n        MovieDataById.genres = genresName;\n        setMovieDetails(MovieDataById);\n      } catch (error) {\n        setErrors(error.message);\n        console.log(errors);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    getMovieDetails(movieId);\n  }, [movieId, errors]);\n\n  const { poster_path, title, vote_average, overview, genres } = movieDetails;\n\n  return (\n    <main>\n      {isLoading && <Loader />}\n      <Link to={backLinkHref}>Go back</Link>\n      <div className={css.DetailsWrapper}>\n        <div className={css.ImageWrapper}>\n          <img\n            src={`https://image.tmdb.org/t/p/w500${poster_path}`}\n            alt={title}\n          />\n        </div>\n        <div className={css.MovieDetails}>\n          <h2>{title}</h2>\n          <p>User score: {vote_average}</p>\n          <p>\n            Overview: <br /> {overview}\n          </p>\n          <p>Genres: {Array.isArray(genres) && genres.map(el => el + ', ')}</p>\n        </div>\n      </div>\n      Additional information\n      <p>\n        <Link to=\"cast\" state={{ from: backLinkHref }}>\n          Cast\n        </Link>\n      </p>\n      <p>\n        <Link to=\"reviews\" state={{ from: backLinkHref }}>\n          Review\n        </Link>\n      </p>\n      <hr />\n      <Outlet />\n    </main>\n  );\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\naxios.defaults.params = {\n  api_key: '44d416356c22cc8e7735ee915c193364',\n};\n\nexport const getTrendingMovies = async () => {\n  const { data } = await axios.get('/trending/movie/day', {\n    params: {\n      page: 1,\n    },\n  });\n  return data;\n};\n\nexport const getMovieByQuery = async query => {\n  const { data } = await axios.get('/search/movie/', {\n    params: {\n      query,\n    },\n  });\n  return data;\n};\n\nexport const getMovieById = async movieId => {\n  const { data } = await axios.get(`/movie/${movieId}`);\n  return data;\n};\n\nexport const getReviewsById = async movieId => {\n  const { data } = await axios.get(`/movie/${movieId}/reviews`);\n  return data;\n};\n\nexport const getCastById = async movieId => {\n  const { data } = await axios.get(`/movie/${movieId}/credits`);\n  return data;\n};\n"],"names":["movieId","useParams","useState","movieDetails","setMovieDetails","isLoading","setIsLoading","errors","setErrors","location","useLocation","backLinkHref","state","from","useEffect","getMovieDetails","getMovieById","MovieDataById","genresName","genres","map","el","name","message","console","log","poster_path","title","vote_average","overview","Loader","to","className","css","src","alt","Array","isArray","axios","api_key","getTrendingMovies","params","page","data","getMovieByQuery","query","getReviewsById","getCastById"],"sourceRoot":""}